#!/usr/bin/env bash
set -eu -o pipefail

declare PROG_NAME=$0
declare DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")"; pwd)
source $DIR/../../include/utils

main() {
  local fonts_dir="$HOME/.local/share/fonts"
  local powerline_font_file="$fonts_dir/Droid Sans Mono for Powerline.otf"

  mkdir -p "$fonts_dir"

  if [[ ! -f "$powerline_font_file" ]]; then
    curl -Llsso "$powerline_font_file" "https://raw.githubusercontent.com/powerline/fonts/master/DroidSansMono/Droid%20Sans%20Mono%20for%20Powerline.otf"
  else
    echo "$powerline_font_file already exists, moving on..."
  fi

  fc-cache -f "$fonts_dir"
}

main
